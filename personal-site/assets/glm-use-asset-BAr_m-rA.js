import{d as e}from"./glm-fast-deep-equal-BpH9U1xh.js";const r=[];function n(r,n,s,o=0,i=!1){for(const f of n)if(e(s,f.args)){if(i)return;if(f.error)throw f.error;if(f.response)return f.response;throw f.promise}const t={args:s,promise:r(...s).then((e=>t.response=null==e||e)).catch((e=>t.error=null!=e?e:"unknown error")).then((()=>{o>0&&setTimeout((()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}),o)}))};if(n.push(t),!i)throw t.promise}function s(e,...o){return n(e,r,o,s.lifespan)}s.lifespan=0,s.clear=(...n)=>function(r,...n){if(void 0===n||0===n.length)r.splice(0,r.length);else{const s=r.find((r=>e(n,r.args)));if(s){const e=r.indexOf(s);-1!==e&&r.splice(e,1)}}}(r,...n),s.preload=(e,...o)=>{n(e,r,o,s.lifespan,!0)},s.peek=(...n)=>{var s;return null==(s=r.find((r=>e(n,r.args))))?void 0:s.response};export{s as u};
